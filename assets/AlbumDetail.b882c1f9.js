import{d as pt,q as ae,r as W,j as mt,g as Ae,s as $t,o as $,c as oe,a as K,F as Xe,l as ze,b as V,e as ei,x as ti,y as ii,_ as dt,z as ni,k as ct,A as ht,n as Fe,f as ri,m as ft,w as si,i as ai}from"./index.80b23629.js";import{d as oi}from"./api.750fd9d5.js";var Tt={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(ne){(function(o,f,w,l){var q=["","webkit","Moz","MS","ms","o"],D=f.createElement("div"),Q="function",M=Math.round,x=Math.abs,G=Date.now;function O(e,t,i){return setTimeout(L(e,i),t)}function E(e,t,i){return Array.isArray(e)?(u(e,i[t],i),!0):!1}function u(e,t,i){var n;if(!!e)if(e.forEach)e.forEach(t,i);else if(e.length!==l)for(n=0;n<e.length;)t.call(i,e[n],n,e),n++;else for(n in e)e.hasOwnProperty(n)&&t.call(i,e[n],n,e)}function T(e,t,i){var n="DEPRECATED METHOD: "+t+`
`+i+` AT 
`;return function(){var r=new Error("get-stack-trace"),s=r&&r.stack?r.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=o.console&&(o.console.warn||o.console.log);return a&&a.call(o.console,n,s),e.apply(this,arguments)}}var c;typeof Object.assign!="function"?c=function(t){if(t===l||t===null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==l&&r!==null)for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])}return i}:c=Object.assign;var re=T(function(t,i,n){for(var r=Object.keys(i),s=0;s<r.length;)(!n||n&&t[r[s]]===l)&&(t[r[s]]=i[r[s]]),s++;return t},"extend","Use `assign`."),R=T(function(t,i){return re(t,i,!0)},"merge","Use `assign`.");function v(e,t,i){var n=t.prototype,r;r=e.prototype=Object.create(n),r.constructor=e,r._super=n,i&&c(r,i)}function L(e,t){return function(){return e.apply(t,arguments)}}function _(e,t){return typeof e==Q?e.apply(t&&t[0]||l,t):e}function m(e,t){return e===l?t:e}function I(e,t,i){u(y(t),function(n){e.addEventListener(n,i,!1)})}function h(e,t,i){u(y(t),function(n){e.removeEventListener(n,i,!1)})}function H(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function P(e,t){return e.indexOf(t)>-1}function y(e){return e.trim().split(/\s+/g)}function A(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var n=0;n<e.length;){if(i&&e[n][i]==t||!i&&e[n]===t)return n;n++}return-1}function F(e){return Array.prototype.slice.call(e,0)}function ke(e,t,i){for(var n=[],r=[],s=0;s<e.length;){var a=t?e[s][t]:e[s];A(r,a)<0&&n.push(e[s]),r[s]=a,s++}return i&&(t?n=n.sort(function(g,C){return g[t]>C[t]}):n=n.sort()),n}function de(e,t){for(var i,n,r=t[0].toUpperCase()+t.slice(1),s=0;s<q.length;){if(i=q[s],n=i?i+r:t,n in e)return n;s++}return l}var gt=1;function Et(){return gt++}function Ve(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||o}var _t=/mobile|tablet|ip(ad|hone|od)|android/i,We="ontouchstart"in o,It=de(o,"PointerEvent")!==l,yt=We&&_t.test(navigator.userAgent),le="touch",Pt="pen",Se="mouse",Nt="kinect",Ct=25,N=1,ee=2,p=4,S=8,Te=1,ue=2,ce=4,he=8,fe=16,X=ue|ce,te=he|fe,qe=X|te,Ge=["x","y"],ge=["clientX","clientY"];function b(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(n){_(e.options.enable,[e])&&i.handler(n)},this.init()}b.prototype={handler:function(){},init:function(){this.evEl&&I(this.element,this.evEl,this.domHandler),this.evTarget&&I(this.target,this.evTarget,this.domHandler),this.evWin&&I(Ve(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(Ve(this.element),this.evWin,this.domHandler)}};function Ot(e){var t,i=e.options.inputClass;return i?t=i:It?t=De:yt?t=Ie:We?t=Me:t=_e,new t(e,At)}function At(e,t,i){var n=i.pointers.length,r=i.changedPointers.length,s=t&N&&n-r===0,a=t&(p|S)&&n-r===0;i.isFirst=!!s,i.isFinal=!!a,s&&(e.session={}),i.eventType=t,St(e,i),e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function St(e,t){var i=e.session,n=t.pointers,r=n.length;i.firstInput||(i.firstInput=Be(t)),r>1&&!i.firstMultiple?i.firstMultiple=Be(t):r===1&&(i.firstMultiple=!1);var s=i.firstInput,a=i.firstMultiple,d=a?a.center:s.center,g=t.center=Ze(n);t.timeStamp=G(),t.deltaTime=t.timeStamp-s.timeStamp,t.angle=xe(d,g),t.distance=Ee(d,g),xt(i,t),t.offsetDirection=Qe(t.deltaX,t.deltaY);var C=Je(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=C.x,t.overallVelocityY=C.y,t.overallVelocity=x(C.x)>x(C.y)?C.x:C.y,t.scale=a?Rt(a.pointers,n):1,t.rotation=a?Mt(a.pointers,n):0,t.maxPointers=i.prevInput?t.pointers.length>i.prevInput.maxPointers?t.pointers.length:i.prevInput.maxPointers:t.pointers.length,Dt(i,t);var k=e.element;H(t.srcEvent.target,k)&&(k=t.srcEvent.target),t.target=k}function xt(e,t){var i=t.center,n=e.offsetDelta||{},r=e.prevDelta||{},s=e.prevInput||{};(t.eventType===N||s.eventType===p)&&(r=e.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=e.offsetDelta={x:i.x,y:i.y}),t.deltaX=r.x+(i.x-n.x),t.deltaY=r.y+(i.y-n.y)}function Dt(e,t){var i=e.lastInterval||t,n=t.timeStamp-i.timeStamp,r,s,a,d;if(t.eventType!=S&&(n>Ct||i.velocity===l)){var g=t.deltaX-i.deltaX,C=t.deltaY-i.deltaY,k=Je(n,g,C);s=k.x,a=k.y,r=x(k.x)>x(k.y)?k.x:k.y,d=Qe(g,C),e.lastInterval=t}else r=i.velocity,s=i.velocityX,a=i.velocityY,d=i.direction;t.velocity=r,t.velocityX=s,t.velocityY=a,t.direction=d}function Be(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:M(e.pointers[i].clientX),clientY:M(e.pointers[i].clientY)},i++;return{timeStamp:G(),pointers:t,center:Ze(t),deltaX:e.deltaX,deltaY:e.deltaY}}function Ze(e){var t=e.length;if(t===1)return{x:M(e[0].clientX),y:M(e[0].clientY)};for(var i=0,n=0,r=0;r<t;)i+=e[r].clientX,n+=e[r].clientY,r++;return{x:M(i/t),y:M(n/t)}}function Je(e,t,i){return{x:t/e||0,y:i/e||0}}function Qe(e,t){return e===t?Te:x(e)>=x(t)?e<0?ue:ce:t<0?he:fe}function Ee(e,t,i){i||(i=Ge);var n=t[i[0]]-e[i[0]],r=t[i[1]]-e[i[1]];return Math.sqrt(n*n+r*r)}function xe(e,t,i){i||(i=Ge);var n=t[i[0]]-e[i[0]],r=t[i[1]]-e[i[1]];return Math.atan2(r,n)*180/Math.PI}function Mt(e,t){return xe(t[1],t[0],ge)+xe(e[1],e[0],ge)}function Rt(e,t){return Ee(t[0],t[1],ge)/Ee(e[0],e[1],ge)}var Lt={mousedown:N,mousemove:ee,mouseup:p},bt="mousedown",Ut="mousemove mouseup";function _e(){this.evEl=bt,this.evWin=Ut,this.pressed=!1,b.apply(this,arguments)}v(_e,b,{handler:function(t){var i=Lt[t.type];i&N&&t.button===0&&(this.pressed=!0),i&ee&&t.which!==1&&(i=p),this.pressed&&(i&p&&(this.pressed=!1),this.callback(this.manager,i,{pointers:[t],changedPointers:[t],pointerType:Se,srcEvent:t}))}});var wt={pointerdown:N,pointermove:ee,pointerup:p,pointercancel:S,pointerout:S},Ht={2:le,3:Pt,4:Se,5:Nt},je="pointerdown",Ke="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&(je="MSPointerDown",Ke="MSPointerMove MSPointerUp MSPointerCancel");function De(){this.evEl=je,this.evWin=Ke,b.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}v(De,b,{handler:function(t){var i=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),s=wt[r],a=Ht[t.pointerType]||t.pointerType,d=a==le,g=A(i,t.pointerId,"pointerId");s&N&&(t.button===0||d)?g<0&&(i.push(t),g=i.length-1):s&(p|S)&&(n=!0),!(g<0)&&(i[g]=t,this.callback(this.manager,s,{pointers:i,changedPointers:[t],pointerType:a,srcEvent:t}),n&&i.splice(g,1))}});var Yt={touchstart:N,touchmove:ee,touchend:p,touchcancel:S},Ft="touchstart",Xt="touchstart touchmove touchend touchcancel";function $e(){this.evTarget=Ft,this.evWin=Xt,this.started=!1,b.apply(this,arguments)}v($e,b,{handler:function(t){var i=Yt[t.type];if(i===N&&(this.started=!0),!!this.started){var n=zt.call(this,t,i);i&(p|S)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,i,{pointers:n[0],changedPointers:n[1],pointerType:le,srcEvent:t})}}});function zt(e,t){var i=F(e.touches),n=F(e.changedTouches);return t&(p|S)&&(i=ke(i.concat(n),"identifier",!0)),[i,n]}var kt={touchstart:N,touchmove:ee,touchend:p,touchcancel:S},Vt="touchstart touchmove touchend touchcancel";function Ie(){this.evTarget=Vt,this.targetIds={},b.apply(this,arguments)}v(Ie,b,{handler:function(t){var i=kt[t.type],n=Wt.call(this,t,i);!n||this.callback(this.manager,i,{pointers:n[0],changedPointers:n[1],pointerType:le,srcEvent:t})}});function Wt(e,t){var i=F(e.touches),n=this.targetIds;if(t&(N|ee)&&i.length===1)return n[i[0].identifier]=!0,[i,i];var r,s,a=F(e.changedTouches),d=[],g=this.target;if(s=i.filter(function(C){return H(C.target,g)}),t===N)for(r=0;r<s.length;)n[s[r].identifier]=!0,r++;for(r=0;r<a.length;)n[a[r].identifier]&&d.push(a[r]),t&(p|S)&&delete n[a[r].identifier],r++;if(!!d.length)return[ke(s.concat(d),"identifier",!0),d]}var qt=2500,et=25;function Me(){b.apply(this,arguments);var e=L(this.handler,this);this.touch=new Ie(this.manager,e),this.mouse=new _e(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}v(Me,b,{handler:function(t,i,n){var r=n.pointerType==le,s=n.pointerType==Se;if(!(s&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)Gt.call(this,i,n);else if(s&&Bt.call(this,n))return;this.callback(t,i,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Gt(e,t){e&N?(this.primaryTouch=t.changedPointers[0].identifier,tt.call(this,t)):e&(p|S)&&tt.call(this,t)}function tt(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var i={x:t.clientX,y:t.clientY};this.lastTouches.push(i);var n=this.lastTouches,r=function(){var s=n.indexOf(i);s>-1&&n.splice(s,1)};setTimeout(r,qt)}}function Bt(e){for(var t=e.srcEvent.clientX,i=e.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],s=Math.abs(t-r.x),a=Math.abs(i-r.y);if(s<=et&&a<=et)return!0}return!1}var it=de(D.style,"touchAction"),nt=it!==l,rt="compute",st="auto",Re="manipulation",ie="none",ve="pan-x",pe="pan-y",ye=Jt();function Le(e,t){this.manager=e,this.set(t)}Le.prototype={set:function(e){e==rt&&(e=this.compute()),nt&&this.manager.element.style&&ye[e]&&(this.manager.element.style[it]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return u(this.manager.recognizers,function(t){_(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),Zt(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,i=e.offsetDirection;if(this.manager.session.prevented){t.preventDefault();return}var n=this.actions,r=P(n,ie)&&!ye[ie],s=P(n,pe)&&!ye[pe],a=P(n,ve)&&!ye[ve];if(r){var d=e.pointers.length===1,g=e.distance<2,C=e.deltaTime<250;if(d&&g&&C)return}if(!(a&&s)&&(r||s&&i&X||a&&i&te))return this.preventSrc(t)},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};function Zt(e){if(P(e,ie))return ie;var t=P(e,ve),i=P(e,pe);return t&&i?ie:t||i?t?ve:pe:P(e,Re)?Re:st}function Jt(){if(!nt)return!1;var e={},t=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){e[i]=t?o.CSS.supports("touch-action",i):!0}),e}var Pe=1,U=2,se=4,j=8,B=j,me=16,z=32;function Z(e){this.options=c({},this.defaults,e||{}),this.id=Et(),this.manager=null,this.options.enable=m(this.options.enable,!0),this.state=Pe,this.simultaneous={},this.requireFail=[]}Z.prototype={defaults:{},set:function(e){return c(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(E(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=Ne(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return E(e,"dropRecognizeWith",this)?this:(e=Ne(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(E(e,"requireFailure",this))return this;var t=this.requireFail;return e=Ne(e,this),A(t,e)===-1&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(E(e,"dropRequireFailure",this))return this;e=Ne(e,this);var t=A(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,i=this.state;function n(r){t.manager.emit(r,e)}i<j&&n(t.options.event+at(i)),n(t.options.event),e.additionalEvent&&n(e.additionalEvent),i>=j&&n(t.options.event+at(i))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=z},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(z|Pe)))return!1;e++}return!0},recognize:function(e){var t=c({},e);if(!_(this.options.enable,[this,t])){this.reset(),this.state=z;return}this.state&(B|me|z)&&(this.state=Pe),this.state=this.process(t),this.state&(U|se|j|me)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}};function at(e){return e&me?"cancel":e&j?"end":e&se?"move":e&U?"start":""}function ot(e){return e==fe?"down":e==he?"up":e==ue?"left":e==ce?"right":""}function Ne(e,t){var i=t.manager;return i?i.get(e):e}function Y(){Z.apply(this,arguments)}v(Y,Z,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return t===0||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,n=t&(U|se),r=this.attrTest(e);return n&&(i&S||!r)?t|me:n||r?i&p?t|j:t&U?t|se:U:z}});function Ce(){Y.apply(this,arguments),this.pX=null,this.pY=null}v(Ce,Y,{defaults:{event:"pan",threshold:10,pointers:1,direction:qe},getTouchAction:function(){var e=this.options.direction,t=[];return e&X&&t.push(pe),e&te&&t.push(ve),t},directionTest:function(e){var t=this.options,i=!0,n=e.distance,r=e.direction,s=e.deltaX,a=e.deltaY;return r&t.direction||(t.direction&X?(r=s===0?Te:s<0?ue:ce,i=s!=this.pX,n=Math.abs(e.deltaX)):(r=a===0?Te:a<0?he:fe,i=a!=this.pY,n=Math.abs(e.deltaY))),e.direction=r,i&&n>t.threshold&&r&t.direction},attrTest:function(e){return Y.prototype.attrTest.call(this,e)&&(this.state&U||!(this.state&U)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=ot(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}});function be(){Y.apply(this,arguments)}v(be,Y,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ie]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&U)},emit:function(e){if(e.scale!==1){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}});function Ue(){Z.apply(this,arguments),this._timer=null,this._input=null}v(Ue,Z,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[st]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!n||!i||e.eventType&(p|S)&&!r)this.reset();else if(e.eventType&N)this.reset(),this._timer=O(function(){this.state=B,this.tryEmit()},t.time,this);else if(e.eventType&p)return B;return z},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===B&&(e&&e.eventType&p?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=G(),this.manager.emit(this.options.event,this._input)))}});function we(){Y.apply(this,arguments)}v(we,Y,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ie]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&U)}});function He(){Y.apply(this,arguments)}v(He,Y,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:X|te,pointers:1},getTouchAction:function(){return Ce.prototype.getTouchAction.call(this)},attrTest:function(e){var t=this.options.direction,i;return t&(X|te)?i=e.overallVelocity:t&X?i=e.overallVelocityX:t&te&&(i=e.overallVelocityY),this._super.attrTest.call(this,e)&&t&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&x(i)>this.options.velocity&&e.eventType&p},emit:function(e){var t=ot(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}});function Oe(){Z.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}v(Oe,Z,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Re]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),e.eventType&N&&this.count===0)return this.failTimeout();if(n&&r&&i){if(e.eventType!=p)return this.failTimeout();var s=this.pTime?e.timeStamp-this.pTime<t.interval:!0,a=!this.pCenter||Ee(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,!a||!s?this.count=1:this.count+=1,this._input=e;var d=this.count%t.taps;if(d===0)return this.hasRequireFailures()?(this._timer=O(function(){this.state=B,this.tryEmit()},t.interval,this),U):B}return z},failTimeout:function(){return this._timer=O(function(){this.state=z},this.options.interval,this),z},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==B&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function J(e,t){return t=t||{},t.recognizers=m(t.recognizers,J.defaults.preset),new Ye(e,t)}J.VERSION="2.0.7",J.defaults={domEvents:!1,touchAction:rt,enable:!0,inputTarget:null,inputClass:null,preset:[[we,{enable:!1}],[be,{enable:!1},["rotate"]],[He,{direction:X}],[Ce,{direction:X},["swipe"]],[Oe],[Oe,{event:"doubletap",taps:2},["tap"]],[Ue]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Qt=1,lt=2;function Ye(e,t){this.options=c({},J.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=Ot(this),this.touchAction=new Le(this,this.options.touchAction),ut(this,!0),u(this.options.recognizers,function(i){var n=this.add(new i[0](i[1]));i[2]&&n.recognizeWith(i[2]),i[3]&&n.requireFailure(i[3])},this)}Ye.prototype={set:function(e){return c(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?lt:Qt},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var i,n=this.recognizers,r=t.curRecognizer;(!r||r&&r.state&B)&&(r=t.curRecognizer=null);for(var s=0;s<n.length;)i=n[s],t.stopped!==lt&&(!r||i==r||i.canRecognizeWith(r))?i.recognize(e):i.reset(),!r&&i.state&(U|se|j)&&(r=t.curRecognizer=i),s++}},get:function(e){if(e instanceof Z)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(E(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(E(e,"remove",this))return this;if(e=this.get(e),e){var t=this.recognizers,i=A(t,e);i!==-1&&(t.splice(i,1),this.touchAction.update())}return this},on:function(e,t){if(e!==l&&t!==l){var i=this.handlers;return u(y(e),function(n){i[n]=i[n]||[],i[n].push(t)}),this}},off:function(e,t){if(e!==l){var i=this.handlers;return u(y(e),function(n){t?i[n]&&i[n].splice(A(i[n],t),1):delete i[n]}),this}},emit:function(e,t){this.options.domEvents&&jt(e,t);var i=this.handlers[e]&&this.handlers[e].slice();if(!(!i||!i.length)){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](t),n++}},destroy:function(){this.element&&ut(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function ut(e,t){var i=e.element;if(!!i.style){var n;u(e.options.cssProps,function(r,s){n=de(i.style,s),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={})}}function jt(e,t){var i=f.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=t,t.target.dispatchEvent(i)}c(J,{INPUT_START:N,INPUT_MOVE:ee,INPUT_END:p,INPUT_CANCEL:S,STATE_POSSIBLE:Pe,STATE_BEGAN:U,STATE_CHANGED:se,STATE_ENDED:j,STATE_RECOGNIZED:B,STATE_CANCELLED:me,STATE_FAILED:z,DIRECTION_NONE:Te,DIRECTION_LEFT:ue,DIRECTION_RIGHT:ce,DIRECTION_UP:he,DIRECTION_DOWN:fe,DIRECTION_HORIZONTAL:X,DIRECTION_VERTICAL:te,DIRECTION_ALL:qe,Manager:Ye,Input:b,TouchAction:Le,TouchInput:Ie,MouseInput:_e,PointerEventInput:De,TouchMouseInput:Me,SingleTouchInput:$e,Recognizer:Z,AttrRecognizer:Y,Tap:Oe,Pan:Ce,Swipe:He,Pinch:be,Rotate:we,Press:Ue,on:I,off:h,each:u,merge:R,extend:re,assign:c,inherit:v,bindFn:L,prefixed:de});var Kt=typeof o<"u"?o:typeof self<"u"?self:{};Kt.Hammer=J,typeof l=="function"&&l.amd?l(function(){return J}):ne.exports?ne.exports=J:o[w]=J})(window,document,"Hammer")})(Tt);const vt=Tt.exports,li={class:"lazy-image-container lazy-image-host"},ui=["media","srcset"],ci=["src"],hi=pt({__name:"LazyImage",props:{source:null,index:null,currentIndex:null,sizes:null},emits:["prev","next"],setup(ne,{emit:o}){const f=ne;ii(_=>({"30d0de0a":V(w),"062fa793":V(re)}));const w=ae(()=>f.currentIndex===f.index?"0":f.currentIndex>f.index?"-100vw":"100vw");let l=!1;const q=ae(()=>l||Math.abs(f.currentIndex-f.index)<2?(l=!0,f.source):""),D=ae(()=>l||Math.abs(f.currentIndex-f.index)<2?(l=!0,f.sizes):{}),Q=W();let M=1,x=0,G=0,O=0,E=0;const u=W(0),T=W(0),c=W(1),re=ae(()=>`translate(${u.value}px, ${T.value}px) scale(${c.value}, ${c.value})`);mt(()=>f.currentIndex,_=>{_!==f.index&&(u.value=0,T.value=0,c.value=1)});let R;Ae(()=>{const _=Q.value;R=new vt(Q.value,{}),R.get("pinch").set({enable:!0}),R.get("pan").set({direction:vt.DIRECTION_ALL}),R.on("swipeleft",()=>{c.value>1||o("next")}),R.on("swiperight",()=>{c.value>1||o("prev")}),R.on("pan panend pinch pinchend",m=>{if(c.value!=1){u.value=x+m.deltaX,T.value=G+m.deltaY;const I=_.clientWidth*c.value;O=I>window.innerWidth?Math.ceil((I-window.innerWidth)/2):0;const h=_.clientHeight*c.value;E=h>window.innerHeight?Math.ceil((h-window.innerHeight)/2):0,u.value>O&&(u.value=O),u.value<-O&&(u.value=-O),T.value>E&&(T.value=E),T.value<-E&&(T.value=-E)}else u.value=0,T.value=0;m.type==="pinch"&&(c.value=Math.max(1,Math.min(M*m.scale,10))),m.type==="pinchend"&&(M=c.value),m.type==="panend"&&(x=u.value<O?u.value:O,G=T.value<E?T.value:E)})});const v=W(window.devicePixelRatio||1);function L(){v.value=window.devicePixelRatio||1}return Ae(()=>{window.addEventListener("resize",L)}),$t(()=>{window.removeEventListener("resize",L)}),(_,m)=>($(),oe("div",li,[K("picture",{ref_key:"picture",ref:Q},[c.value===1?($(!0),oe(Xe,{key:0},ze(V(D),(I,h)=>($(),oe("source",{media:`(max-width: ${h/v.value}px)`,srcset:I},null,8,ui))),256)):ei("",!0),K("img",{src:V(q),alt:"",onDragstart:m[0]||(m[0]=ti(()=>{},["prevent"]))},null,40,ci)],512)]))}});const fi=dt(hi,[["__scopeId","data-v-964cb757"]]),vi={class:"gallery-host"},pi={class:"overview"},mi=["src"],di=pt({__name:"AlbumDetail",props:{albumSlug:null,img:{default:void 0}},setup(ne){const o=ne,f=ri(),w=W([]);let l=!0;Ae(async()=>{w.value=await oi(o.albumSlug),o.img&&(l=!1,D.value===q&&await f.replace({name:"gallery",params:{albumSlug:o.albumSlug}}))});const q=-5,D=ae(()=>{const h=w.value.map(H=>H.filename).indexOf(o.img);return h!==-1?h:q}),Q=ae(()=>D.value!==q);mt(D,h=>{h===q&&o.img&&f.replace({name:"gallery",params:{albumSlug:o.albumSlug}})});function M(){return D.value<w.value.length-1}function x(){return D.value>0}function G(){if(!M())return;const h=w.value.at(D.value+1).filename;f.replace({name:"gallery-image",params:{albumSlug:o.albumSlug,img:h}})}function O(){if(!x())return;const h=w.value.at(D.value-1).filename;f.replace({name:"gallery-image",params:{albumSlug:o.albumSlug,img:h}})}function E(){l?f.back():(l=!0,f.replace({name:"gallery",params:{albumSlug:o.albumSlug}}))}let u=W(!0),T,c=!1;function re(){u.value=!0,R()}function R(){clearTimeout(T),!c&&(T=setTimeout(()=>{u.value=!1},1e3))}const v=W(),L=W(),_=W();Ae(()=>{var h,H,P,y,A,F;R(),(h=v.value)==null||h.addEventListener("pointerenter",m),(H=L.value)==null||H.addEventListener("pointerenter",m),(P=_.value)==null||P.addEventListener("pointerenter",m),(y=v.value)==null||y.addEventListener("pointerleave",I),(A=L.value)==null||A.addEventListener("pointerleave",I),(F=_.value)==null||F.addEventListener("pointerleave",I)}),ni(()=>{var h,H,P,y,A,F;(h=v.value)==null||h.removeEventListener("pointerenter",m),(H=L.value)==null||H.removeEventListener("pointerenter",m),(P=_.value)==null||P.removeEventListener("pointerenter",m),(y=v.value)==null||y.removeEventListener("pointerleave",I),(A=L.value)==null||A.removeEventListener("pointerleave",I),(F=_.value)==null||F.removeEventListener("pointerleave",I)});function m(){clearTimeout(T),c=!0}function I(){R(),c=!1}return(h,H)=>{const P=ai("router-link");return $(),oe("div",vi,[ct(K("div",pi,[($(!0),oe(Xe,null,ze(w.value,y=>($(),ft(P,{to:{name:"gallery-image",params:{albumSlug:o.albumSlug,img:y.filename}}},{default:si(()=>[K("img",{src:y.thumbnailUrl,alt:""},null,8,mi)]),_:2},1032,["to"]))),256))],512),[[ht,!V(Q)]]),ct(K("div",{class:"container lazy-image-background",onMousemove:re},[($(!0),oe(Xe,null,ze(w.value,(y,A)=>($(),ft(fi,{"current-index":V(D),index:A,sizes:y.sizes,source:y.url,onNext:G,onPrev:O},null,8,["current-index","index","sizes","source"]))),256)),K("div",{id:"left",ref_key:"leftRef",ref:L,class:Fe({show:V(u)&&x(),control:!0}),onClick:O}," < ",2),K("div",{id:"right",ref_key:"rightRef",ref:v,class:Fe({show:V(u)&&M(),control:!0}),onClick:G},"> ",2),K("div",{id:"close",ref_key:"closeRef",ref:_,class:Fe({show:V(u),control:!0}),onClick:E},"x",2)],544),[[ht,V(Q)]])])}}});const Ei=dt(di,[["__scopeId","data-v-54123906"]]);export{Ei as default};
